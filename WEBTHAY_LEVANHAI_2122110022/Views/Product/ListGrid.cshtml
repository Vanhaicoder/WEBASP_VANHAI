@model WEBTHAY_LEVANHAI_2122110022.Models.HomeModel
@{
    ViewBag.Title = "ListGrid";
    int totalPages = ViewBag.TotalPages;
    int currentPage = ViewBag.CurrentPage;
    string query = ViewBag.Query as string; // Lấy giá trị từ ViewBag
}

<!DOCTYPE HTML>
<html lang="en">
<head>
</head>
<body>
    <!-- ========================= SECTION CONTENT ========================= -->
    <section class="section-content padding-y">
        <div class="container">
            <!-- ============================ FORM SEARCH ================================= -->

            <hr />

            <!-- ============================ FILTER TOP ================================= -->
            <div class="card mb-3">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-2"> Bạn đang ở: </div> <!-- col.// -->
                        <nav class="col-md-8">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="@Url.Action("Index","Home")">Trang chủ</a></li>
                                <li class="breadcrumb-item"><a href="#">Danh mục</a></li>
                                <li class="breadcrumb-item"><a href="#">Danh mục phụ</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Sản phẩm</li>
                            </ol>
                        </nav> <!-- col.// -->
                    </div> <!-- row.// -->
                    <hr>
                    <div class="row">
                        <div class="col-md-2">Lọc</div> <!-- col.// -->
                        <div class="col-md-10">
                            <ul class="list-inline">
                                <li class="list-inline-item mr-3 dropdown">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"> Kiểu sản phẩm </a>
                                    <div class="dropdown-menu p-3" style="max-width:400px;">
                                        <label class="form-check">
                                            <input type="radio" name="myfilter" class="form-check-input"> Tốt nhất
                                        </label>
                                        <label class="form-check">
                                            <input type="radio" name="myfilter" class="form-check-input"> Phổ biến
                                        </label>
                                        <label class="form-check">
                                            <input type="radio" name="myfilter" class="form-check-input"> Mới nhất
                                        </label>
                                    </div> <!-- dropdown-menu.// -->
                                </li>
                                <li class="list-inline-item mr-3 dropdown">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"> Thành phố </a>
                                    <div class="dropdown-menu p-3">
                                        <label class="form-check"> <input type="checkbox" class="form-check-input"> China </label>
                                        <label class="form-check"> <input type="checkbox" class="form-check-input"> Japan </label>
                                        <label class="form-check"> <input type="checkbox" class="form-check-input"> Uzbekistan </label>
                                        <label class="form-check"> <input type="checkbox" class="form-check-input"> Russia </label>
                                    </div> <!-- dropdown-menu.// -->
                                </li>
                                <li class="list-inline-item mr-3 dropdown">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Chất liệu</a>
                                    <div class="dropdown-menu">
                                        <a href="" class="dropdown-item">Cotton</a>
                                        <a href="" class="dropdown-item">Nỉ</a>
                                        <a href="" class="dropdown-item">Suông</a>
                                    </div>
                                </li>
                                <li class="list-inline-item mr-3"><a href="#">Màu</a></li>
                                <li class="list-inline-item mr-3"><a href="#">Kích cỡ</a></li>
                                <li class="list-inline-item mr-3">
                                    <div class="form-inline">
                                        <label class="mr-2">Giá</label>
                                        <input class="form-control form-control-sm" placeholder="Thấp nhất" type="number">
                                        <span class="px-2"> - </span>
                                        <input class="form-control form-control-sm" placeholder="Cao nhất" type="number">
                                        <button type="submit" class="btn btn-sm btn-light ml-2">Lưu</button>
                                    </div>
                                </li>
                                <li class="list-inline-item mr-3">
                                    <label class="custom-control mt-1 custom-checkbox">
                                        <input type="checkbox" class="custom-control-input">
                                        <div class="custom-control-label">
                                            Sẵn sàng để ship
                                        </div>
                                    </label>
                                </li>
                            </ul>
                        </div> <!-- col.// -->
                    </div> <!-- row.// -->
                </div> <!-- card-body .// -->
            </div> <!-- card.// -->
            <!-- ============================ FILTER TOP END.// ================================= -->

            <header class="mb-3">
                <div class="form-inline">
                    <strong class="mr-md-auto">Sản phẩm </strong>
                    <select class="mr-2 form-control">
                        <option>Sản phẩm hot</option>
                        <option>Sản phẩm mới</option>
                        <option>Sản phẩm phổ biến</option>
                        <option>Sản phẩm tồn </option>
                    </select>
                    <div class="btn-group">
                        <a href="" class="btn btn-light active" data-toggle="tooltip" title="List view">
                            <i class="fa fa-bars"></i>
                        </a>
                        <a href="@Url.Action("ListLarge","Product")" class="btn btn-light" data-toggle="tooltip" title="Grid view">
                            <i class="fa fa-th"></i>
                        </a>
                    </div>
                </div>
            </header><!-- sect-heading -->

            <div class="row">
                @foreach (var item in Model.ListProduct)
                {
                    <div class="col-md-3">
                        <figure class="card card-product-grid">
                            <div class="img-wrap">
                                <span class="badge badge-danger"> Mới </span>
                                <img src="~/Content/images/items/@item.Image">
                            </div> <!-- img-wrap.// -->
                            <figcaption class="info-wrap">
                                <a href="@Url.Action("Detail", "Home", new { id = item.Id })" class="title mb-2">@item.Name</a>
                                <div class="price-wrap">
                                    @{
                                        if (item.Sale_price == null)
                                        {
                                            <small class="text-muted">/@item.Price</small>
                                        }
                                        else
                                        {
                                            <span class="price">@item.Sale_price VND</span>
                                        }
                                    }
                                </div> <!-- price-wrap.// -->

                                <p class="mb-2"> 2 Pieces <small class="text-muted">(Min Order)</small></p>

                                <p class="text-muted">@item.Brand.Name</p>

                                <hr>

                                <p class="mb-3">
                                    <span class="tag"> <i class="fa fa-check"></i> Đã được kiểm định</span>
                                    <span class="tag"> 2 năm </span>
                                    <span class="tag"> 23 đánh giá </span>
                                    <span class="tag"> @item.Category.name </span>
                                </p>

                                <label class="custom-control mb-3 custom-checkbox">
                                    <input type="checkbox" class="custom-control-input">
                                    <div class="custom-control-label">
                                        Thêm để so sánh
                                    </div>
                                </label>

                                <a href="#" class="btn btn-outline-primary"> <i class="fa fa-envelope"></i> Liên hệ nhà cung cấp </a>

                            </figcaption>
                        </figure>
                    </div> <!-- col.// -->
                }
            </div> <!-- row end.// -->
            <!-- Hiển thị phân trang -->
            <nav aria-label="Page navigation">
                <ul class="pagination">
                    <!-- Liên kết "Trang trước" -->
                    <li class="page-item @(currentPage == 1 ? "disabled" : "")">
                        <a class="page-link" href="@Url.Action("ListGrid", new { query = query, page = currentPage - 1 })" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span> Previous
                        </a>
                    </li>

                    <!-- Hiển thị các trang số -->
                    @for (int i = 1; i <= totalPages; i++)
                    {
                        <li class="page-item @(i == currentPage ? "active" : "")">
                            <a class="page-link" href="@Url.Action("ListGrid", new { query = query, page = i })">@i</a>
                        </li>
                    }

                    <!-- Liên kết "Trang tiếp" -->
                    <li class="page-item @(currentPage == totalPages ? "disabled" : "")">
                        <a class="page-link" href="@Url.Action("ListGrid", new { page = currentPage + 1 })" aria-label="Next">
                            Trang tiếp <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>
            </nav>


            <div class="box text-center">
                <p>Bạn đã tìm thấy những gì bạn đang tìm kiếm chưa?？</p>
                <a href="" class="btn btn-light">Rồi</a>
                <a href="" class="btn btn-light">Chưa</a>
            </div>

        </div> <!-- container .//  -->
    </section>
    <!-- ========================= SECTION CONTENT END// ========================= -->
    <!-- ========================= SECTION SUBSCRIBE  ========================= -->
    <section class="section-subscribe padding-y-lg">
        <div class="container">

            <p class="pb-2 text-center text-white"> Để lại Email để nhận thông báo các sản phẩm mới nhất tại VanHaiStudio</p>

            <div class="row justify-content-md-center">
                <div class="col-lg-5 col-md-6">
                    <form class="form-row">
                        <div class="col-md-8 col-7">
                            <input class="form-control border-0" placeholder=" Email của bạn" type="email">
                        </div> <!-- col.// -->
                        <div class="col-md-4 col-5">
                            <button type="submit" class="btn btn-block btn-warning"> <i class="fa fa-envelope"></i> Hoàn thành </button>
                        </div> <!-- col.// -->
                    </form>
                    <small class="form-text text-white-50"> Cam kết bảo mật Email của khách hàng khỏi bên thứ 3. </small>
                </div> <!-- col-md-6.// -->
            </div>


        </div>
    </section>
    <!-- ========================= SECTION SUBSCRIBE END// ========================= -->
    <!-- ========================= FOOTER ========================= -->
</body>
</html>
